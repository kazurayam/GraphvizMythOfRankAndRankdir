= オブジェクトのデータ構造を示す図をGraphvizで描こうとしたがrankとrankdirがわからず試行錯誤した話

== 解決すべき問題

Javaオブジェクトの実行時のデータ構造をGraphvizで可視化したいと思った。Javaオブジェクトを入力として与えればDOT言語のスクリプトを出力するヘルパクラス `DotGenerator` を生成したいと思った。Javaアプリを実行時にオブジェクトのデータ構造を反映した`.dot`ファイルをして、それをGraphvizツールに渡しPNG画像を生成したい。

たとえばこんなJavaクラスとJUnitテストを題材にしよう。

include::section/sec001.adoc[]
include::section/sec002.adoc[]
include::section/sec003.adoc[]
include::section/sec012.adoc[]
include::section/sec013.adoc[]
include::section/sec020.adoc[]
include::section/sec021.adoc[]
include::section/sec022.adoc[]
include::section/sec023.adoc[]
include::section/sec024.adoc[]
include::section/sec030.adoc[]
include::section/sec031.adoc[]
include::section/sec032.adoc[]
include::section/sec033.adoc[]
include::section/sec034.adoc[]
include::section/sec041.adoc[]
include::section/sec042.adoc[]
include::section/sec043.adoc[]

